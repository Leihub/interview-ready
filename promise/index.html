<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .radius{
            width: 50px;
            height: 50px;
            border-radius: 50px;
            background: red
        }
    </style>
</head>
<body>
    <div class="radius"></div>
    <!-- <script src="promise.js"></script> -->
    <script>
        // setTimeout(()=>{console.log(`d`)},0)
        // var r = new Promise((resolve,reject)=>{
        //     resolve()
        // })

        // r.then(()=>{
        //     var begin = Date.now()
        //     while(Date.now() - begin < 1000){
        //         console.log('c1');
        //         new Promise((resolve,reject)=>{
        //             resolve()                    
        //         }).then(()=>{
        //             console.log('c2');
        //         })
        //     }
        // })
        // function changeColor(duration){
        //     return new Promise((resolve,reject) => {
        //         setTimeout(resolve,duration)
        //     })
        // }

        function sleep(duration){
            return new Promise((resolve,reject) => {
                setTimeout(resolve,duration)
            })
        }
        console.log(`a`);
        // sleep(5000).then(()=>{
        //     console.log(`c`)
        // })

        // async function foo(){
        //     console.log(`a1`)
        //     await sleep(5000)
        //     console.log(`b2`)
        // }
        async function changeColor(color,duration){
            let dom = document.querySelector('.radius')
            dom.style.background = color
            await sleep(duration)
        }
        async function dochange(){
            while(true){
                await changeColor('green',3000)
                await changeColor('yellow',1000)
                await changeColor('red',2000)
            }
        }
        dochange()
    </script>
</body>
</html>